"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44696],{75757:function(e,t,n){n.d(t,{r:function(){return O},q:function(){return k}});var a=n(98788),i=n(45680),r=n(52322),o=n(67550),c=n(62197),l=n(701),s=n(72841),d=n(68052),u=n(9390),p=n(47999),m=n(27739),f=n(44699),h=n(81034),y=n(76543),v=n(88167),g=n(81372),b=n(87531),_=n(34006),C=n(73377),x=n(38204),w=n(21805),T=n(59877),N=n(47842),E=(0,n(8740).ZL)()(function(e){var t=e.palette,n=e.breakpoints,a=e.tokens,i=a.font,r=a.color,o=a.spacing;return{container:{display:"flex",justifyContent:"center",marginTop:21},flexRoot:{display:"flex",flexDirection:"column",alignItems:"center",background:r.white,width:"100%"},subTitle:{fontWeight:i.weight.bold,marginBottom:o.xxs},optionsSection:(0,N.Z)({display:"flex",flexFlow:"row",marginBottom:o.base,flexGrow:1,marginTop:o.s},n.down("md"),{flexFlow:"column"}),backButton:{fontSize:i.size.s,fontWeight:i.weight.bold,marginBottom:o.base},cancelTitle:{fontWeight:i.weight.bold,fontSize:i.size.l},cancelAtEndOfTermContainer:(0,N.Z)({backgroundColor:"#F3F4F5",padding:o.l,paddingBottom:o.s,display:"flex",flexDirection:"column",width:326},n.down("sm"),{backgroundColor:"initial",borderBottom:"1px solid #0c121c1f"}),highlightedContainer:{backgroundColor:"#F3F4F5"},cancelEarlyTitleContainer:{padding:o.l,paddingBottom:o.s,display:"flex",flexDirection:"column",width:326},description:{fontSize:i.size.s,lineHeight:i.lineHeight.s,marginTop:15},total:{fontSize:14,fontWeight:i.weight.bold},item:{fontSize:i.size.s,lineHeight:i.lineHeight.s},items:{display:"flex",flexDirection:"row",justifyContent:"space-between"},hr:{borderColor:"#0c121c1f",width:"100%",marginTop:4},itemPrice:{fontSize:i.size.m},totalPrice:{fontSize:i.size.m,fontWeight:900},taxNote:{fontSize:i.size.xs,fontWeight:i.weight.normal,marginTop:-6,alignSelf:"flex-end"},cancelEndOfTermBtn:(0,N.Z)({color:t.common.white,backgroundColor:t.secondary.main,"&:hover":{backgroundColor:t.secondary.dark,color:t.common.white},marginTop:o.l},n.up("md"),{marginTop:"auto",marginBottom:36}),cancelEarlyBtn:{marginTop:o.l},aboutNote:{fontSize:i.size.s,textDecoration:"underline",marginTop:15,textAlign:"center",cursor:"pointer"}}}),k="Flat fee cancellation",I={usd:40,aud:60,eur:37,gbp:31,chf:35,dkk:270,nok:420,sek:430,jpy:5700,inr:3300,krw:53e3,brl:200},D=function(e){var t=e.t,n=e.productDueDate,a=e.productName,i=e.currentAlottmentExpiration,o=e.commitmentRemaining,c=e.helpPath,l=e.totalCreditsRemaining;return{cancelAtEndOfTermTitle:t("cancellation:cancel_at_end_of_term_title"),back:t("back"),continue:t("continue"),aboutNote:t("cancellation:flat_fee_about_cancellation"),taxNote:t("cancellation:flat_fee_tax_note"),remainingFeeText:o>1?t("cancellation:flat_fee_remaining_text_plural",{COUNT:o}):t("cancellation:flat_fee_remaining_text_singular"),flatFeeCost:t("cancellation:flat_fee_cost"),monthlyCostText:t("cancellation:flat_fee_monthly_cost"),totalForEarlyOpt:t("cancellation:flat_fee_total_early"),totalForEndOfTermOpt:(0,r.jsx)(T.cC,{ns:d.ahM,i18nKey:t(o>1?"cancellation:flat_fee_total_end_of_term_plural":"cancellation:flat_fee_total_end_of_term_singular"),values:{COUNT:o}}),orderCreationError:(0,r.jsx)(T.cC,{t:t,ns:d.ahM,i18nKey:"cancellation:flat_fee_order_creation_error",components:{SupportLink:(0,r.jsx)(u.r,{underline:!0,style:{textDecoration:"underline"},clickAnalyticsLabel:"".concat(h.vn4,".").concat(h.Rqe),href:c})}}),cancelAtEndOfTermDescription:(0,r.jsx)(T.cC,{ns:d.ahM,i18nKey:"cancellation:flat_fee_cancel_end_of_term_description",values:{PRODUCT_DUE_DATE:n},components:{bold:(0,r.jsx)("strong",{})}}),cancelEarlyTitle:t("cancellation:cancel_early_title"),cancelEarlyDescription:(0,r.jsx)(T.cC,{ns:d.ahM,i18nKey:"cancellation:flat_fee_cancel_early_description",values:{PRODUCT_DUE_DATE:i},components:{bold:(0,r.jsx)("strong",{})}}),technicalIssuesLink:(0,r.jsx)(T.cC,{ns:d.ahM,i18nKey:"cancellation:technical_issues_link",components:{a:(0,r.jsx)(u.r,{href:"/help",target:"_blank",clickAnalyticsLabel:(0,C.U_)({pageSection:h.vn4,eventLabel:h.l4m})})}}),confirmPageTitle:t("cancellation:confirm_page_title",{PRODUCT_NAME:a}),earlyCancelationMessage:(0,r.jsx)(T.cC,{ns:d.ahM,i18nKey:"credit_rollover:early_cancelation_message",values:{TOTAL_CREDITS_REMAINING:l},components:{bold:(0,r.jsx)("strong",{})}})}},O=function(e){var t,n=e.formattedExpirationDate,u=e.licenseName,N=e.onSubmit,O=e.onPrevious,j=e.plan,Z=(0,b.aQ)(),R=E(),P=R.classes,S=R.cx,A=(0,x.ad)(),M=(0,T.$G)(d.ahM).t,z=Z(new Date(j.subscriptionExpiration)),F=function(e){return N({action:e})},U=D({t:M,productName:u,productDueDate:n,currentAlottmentExpiration:z,commitmentRemaining:j.commitmentRemaining,helpPath:A,totalCreditsRemaining:j.totalCreditsRemaining}),L=(0,_.cY)(j.id),B=j.commitmentRemaining<=1,q=(0,g.K)({productId:m.ue$}).data;q&&(q.prices=I);var K=(0,v.LG)({product:q}),W=(0,y.Q)({productOverride:q,productId:m.ue$,subscriptionIdentifier:j.id,cancellationReason:k}),Y=W.createOrderHandler,G=W.isCreateOrderInProgress,H=W.orderStatus,Q=(t=(0,a.Z)(function(){return(0,i.__generator)(this,function(e){return B?F("assistedEarlyCancel"):(w.Z.set("pwnext","true",{expires:new Date(new Date().getTime()+864e5)}),Y()),[2]})}),function(){return t.apply(this,arguments)});return(0,r.jsx)(o.Z,{className:P.container,children:(0,r.jsxs)(o.Z,{component:"div",className:P.flexRoot,children:[(0,r.jsx)(c.Z,{variant:"subtitle1",className:P.subTitle,"data-automation":"CancelPlans_cancelOptionStep",children:U.confirmPageTitle}),(0,r.jsxs)(o.Z,{className:P.optionsSection,children:[j.autoRenewal&&(0,r.jsxs)(o.Z,{className:P.cancelAtEndOfTermContainer,"data-automation":"cancelAtEndOfTermContainer",children:[(0,r.jsx)(c.Z,{variant:"subtitle1",className:P.cancelTitle,children:U.cancelAtEndOfTermTitle}),(0,r.jsx)(c.Z,{variant:"body1",className:P.description,children:U.cancelAtEndOfTermDescription}),(0,r.jsx)(c.Z,{sx:{marginTop:"9px"},variant:"body1",className:P.description,children:U.remainingFeeText}),(0,r.jsx)(p.z,{clickTrack:(0,C.U_)({pageSection:h.vn4,eventLabel:h.$zE}),onClick:function(){return F("turnOffAutoRenewal")},onKeyDown:function(e){"Enter"===e.key&&F("turnOffAutoRenewal")},variant:"contained","aria-label":"Cancel at end of term","data-automation":"cancelAtEndOfTermCTA",className:P.cancelEndOfTermBtn,children:U.continue})]}),(0,r.jsxs)(o.Z,{className:S(P.cancelEarlyTitleContainer,!j.autoRenewal&&P.highlightedContainer),"data-automation":"cancelEarlyContainer",children:[(0,r.jsx)(c.Z,{variant:"subtitle1",className:P.cancelTitle,children:U.cancelEarlyTitle}),(null==H?void 0:H.status)===f.cM&&(0,r.jsx)(l.Z,{severity:"error",children:U.orderCreationError}),L&&(0,r.jsx)(l.Z,{severity:"warning",children:U.earlyCancelationMessage}),(0,r.jsx)(c.Z,{variant:"body1",className:P.description,children:U.cancelEarlyDescription}),!B&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Z,{sx:{marginTop:"62px"},className:P.items,children:[(0,r.jsx)(c.Z,{variant:"body1",className:P.item,children:U.flatFeeCost}),(0,r.jsx)(c.Z,{variant:"body1",className:P.itemPrice,children:K})]}),(0,r.jsx)("hr",{className:P.hr}),(0,r.jsxs)(o.Z,{className:P.items,children:[(0,r.jsx)(c.Z,{variant:"body1",className:P.total,children:U.totalForEarlyOpt}),(0,r.jsx)(c.Z,{variant:"body1",className:P.totalPrice,"data-automation":"cancellationFeeTotalAmount",children:K})]}),(0,r.jsx)(c.Z,{variant:"body1",className:P.taxNote,children:U.taxNote})]}),(0,r.jsx)(p.z,{clickTrack:(0,C.U_)({pageSection:h.vn4,eventLabel:h.r25}),disabled:G,onClick:Q,onKeyDown:function(e){"Enter"===e.key&&Q()},"aria-label":"Cancel early with a fee",variant:"outlined",className:P.cancelEarlyBtn,"data-automation":"cancelEarlyWithFeeCTA",children:G?(0,r.jsx)(s.Z,{color:"inherit",size:24}):U.continue}),(0,r.jsx)(c.Z,{variant:"body1",className:P.aboutNote,onClick:function(){window.open("https://support.shutterstock.com/s/article/Does-Shutterstock-charge-any-cancellation-fees","_blank")},children:U.aboutNote})]})]}),(0,r.jsx)(p.z,{clickTrack:(0,C.U_)({pageSection:h.vn4,eventLabel:h.pPK}),onClick:O,variant:"text",className:P.backButton,children:U.back})]})})}},76543:function(e,t,n){n.d(t,{Q:function(){return et}});var a,i=n(98788),r=n(47842),o=n(70865),c=n(96670),l=n(87394),s=n(45680),d=n(75757),u=n(27739),p=n(44699),m=n(7819),f=n(43801),h=n(65532),y=n(3093),v=n(75445),g=n(23490),b=n(87414),_=function(e){var t=e.prices,n=void 0===t?{}:t,a=(0,y.O)(),i=(0,g.N)().isGoodBot,r=(0,h.PE)().currencyData.currency,o=void 0===r?v.a:r;return i?(0,b.Yy)({prices:n,localeCurrency:o}):a?(0,b.Yy)({prices:n,localeCurrency:"INR"}):(0,b.Yy)({prices:n,localeCurrency:o})},C=n(66970),x=n(81740),w=n(56398),T=n(83835),N=n(19522),E=n(97258),k=n(8149),I=n(44297),D=n(49670),O=n(9009),j=function(e){switch(e.paymentMethod){case w.M2:return{paymentId:e.id,expirationMonth:e.creditCard.expMonth,expirationYear:e.creditCard.expYear,maskedNumber:e.creditCard.maskedNumber,cardType:e.creditCard.type,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case w.Eq:return{paymentId:e.id,bic:e.sepaDirectDebit.bic,maskedIBAN:e.sepaDirectDebit.maskedIban,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case w.YR:return{paymentId:e.id,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit,email:e.email};default:return null}},Z=function(e){var t=e.paymentProfiles,n=void 0===t?[]:t;return Array.isArray(n)&&0!==n.length?j(n.find(function(e){return!0===e.isDefault})||n[0]):null},R=function(e){var t=e.orderItems,n=e.license,a=e.country,i=e.debitableIdentifier,r=e.selectedShadowsOption;return(void 0===t?[]:t).map(function(e){var t=e.product,c=void 0===t?{}:t,l=c.id,s=c.eligibleForRebilling,d=c.seatCount,p=e.productType,f=e.assets,h=e.paymentMethod,y=e.subscriptionIdentifier,v=e.cancellationReason,g=y&&v?{subscription_identifier:y,cancellation_reason:v}:{},b=[];return d&&(g.seat_count=d),(null==h?void 0:h.type)!==w.xt&&(g.subscription_id=null==h?void 0:h.id),(null==f?void 0:f.length)&&(b=f.map(function(e){var t=e.asset,a=e.selectedAssetSize,i=(null==t?void 0:t.type)===k.tn,c=t.overrideAssetTypeForMusicOrder?t.overrideAssetTypeForMusicOrder:(0,I._L)(t);return(0,o.Z)({type:c,id:t.id,license:n},t.overrideAssetTypeForMusicOrder&&!i&&{format:E.vD,size:E.vD},(null==a?void 0:a.size)&&!i&&{size:a.size},(null==a?void 0:a.format)&&{format:a.format},c===k.IK&&{headline:t.title},c===k.k4&&t.imageType===k.w5&&(0,o.Z)({angle:t.angle||T.U,content_provider:k._R},(null==a?void 0:a.format)!==N.YU&&{include_shadows:"on"===(r||"on").toLocaleLowerCase()}))})),g.auto_renewal=s&&p===m.Cs&&!u.ikm.includes(a)&&!u.yDj.includes(e.product.name),g.debitable_identifier=i,(0,o.Z)({product:{id:l,type:p||m.cs}},b&&{media:b},Object.keys(g).length>0&&{meta:g})})},P=function(e){var t=e.currency,n=e.country,a=e.paymentProfileId,i=e.items,r=e.couponCode;return{data:{type:"orders",attributes:{currency:t,items:i,country:n,payment_profile_id:a,coupons:r?[{type:"coupon",name:"coupon",coupon_code:r}]:[],client_data:{},vat_override:e.vatNumber||void 0}}}},S=(a=(0,i.Z)(function(e){var t,n,a,i,r,o,c,l,d,u,p,f,h,y,v,g,b,_,C;return(0,s.__generator)(this,function(s){return t=e.country,n=e.couponCode,a=e.currency,i=e.orderItems,r=e.selectedShadowsOption,o=e.paymentProfileId,c=e.vatNumber,d=void 0===(l=e.configs)?{}:l,p=void 0===(u=e.license)?m.ur:u,h=void 0===(f=e.debitableIdentifier)?void 0:f,v=void 0!==(y=e.showP32290Inr)&&y,g=R({orderItems:i,license:p,country:t,debitableIdentifier:h,selectedShadowsOption:r}),b=v?"INR":a,_=(0,x.Tn)().formattedUrl,C=P({country:t,couponCode:n,currency:b,items:g,paymentProfileId:o,vatNumber:c}),[2,D.uS.post(_,C,d).then(function(e){return{headers:e.headers,data:(0,O.O)(e.data)}})]})}),function(e){return a.apply(this,arguments)}),A=function(e){var t=e.couponCode,n=e.productName,a=null;return n===u.Pvj&&t===u.XdV?a=u.E65:n===u.fnR&&t===u.Q9B&&(a=u.Em3),a},M=n(38419),z=n(18167),F=n(38367),U=n(59979),L=n(70008),B=n(40233),q=n(12649),K=n(25936),W=n(24114),Y=n(38204),G=n(31683),H=n(34406).env.NODE_CONFIG_ENV,Q=function(){var e=(0,G.u4)()?"production":"qa";switch(H||e){case"dev":return"65021";case"qa":return"12424";case"production":return"14156";default:return"NO_ENV_DEFINED"}},V=function(){var e=(0,G.u4)()?"production":"qa";switch(H||e){case"dev":return"65035";case"qa":return"19606";case"production":return"17383";default:return"NO_ENV_DEFINED"}},$=n(21805),X=n(5632),J=n(2784),ee=function(e){var t,n=e.couponCode,a=e.displayInlineCancellationFlow,i=(0,X.useRouter)(),c=(0,f.v)(),l=!!(null==c?void 0:null===(t=c.current)||void 0===t?void 0:t.isPeacock);return(0,J.useCallback)(function(e){var t,c=e.orderId,s=(0,M.DW)({language:i.locale,relativePath:(0,Y.U2)({queryParams:(0,o.Z)({orderId:c},(null==i?void 0:i.query)||{},l&&{isCreativeAiOrder:"true"},n?(t={},(0,r.Z)(t,m.d9,n),(0,r.Z)(t,m.Gp,n),t):{},a&&{display:"inlineCancellationFlow"})})});i.push(s)},[n,l,i,a])},et=function(e){var t=e.products,n=e.asset,a=e.assetSize,r=e.couponCode,f=e.productId,v=e.productType,g=void 0===v?m.Cs:v,x=e.productOverride,w=e.seatCount,T=e.setCreateOrderStatus,N=void 0===T?function(){}:T,E=e.setIsInvalidCoupon,k=void 0===E?function(){}:E,D=e.vatNumber,O=e.license,j=e.isLicenseDrawer,R=void 0!==j&&j,P=e.preset,M=e.eligibilityData,Y=void 0===M?{}:M,G=e.existingUserRedirectPath,H=e.selectedShadowsOption,et=e.shouldForceAsset,en=e.subscriptionIdentifier,ea=e.cancellationReason,ei=(0,h.PE)().region,er=(0,L.B)().isIndiaRegion,eo=(0,q.jy)().data,ec=(0,K.u)().data,el=(0,q.B)(),es=(0,l.Z)((0,J.useState)(!1),2),ed=es[0],eu=es[1],ep=(0,l.Z)((0,W.QD)(n)||[],2)[1],em=Y.eligibilityCurrency,ef=Y.debitableIdentifier,eh=(0,J.useMemo)(function(){return null!=x?x:(0,o.Z)({},(0,b.$A)(t,f),w?{seatCount:w}:{})},[x,f,t,w]),ey=null==eh?void 0:eh.id,ev=(0,X.useRouter)().asPath,eg=_({prices:null==eh?void 0:eh.prices}),eb=(0,y.O)(),e_=(0,F.Z)({shouldFetch:!!el}).data,eC=r||eh.couponCode,ex=A({couponCode:eC,productName:null==eh?void 0:eh.name}),ew=(0,U.Sl)({queryParams:(0,o.Z)({landing_page:(0,z.t)({couponCode:eC,productId:ey,vatNumber:D,seatCount:null==eh?void 0:eh.seatCount,doNotRedirect:!0,asset:er||void 0!==et&&et?n:void 0,existingUserRedirect:G||ep,license:O})},P&&{preset:P}),signUpView:ex}),eT=(0,J.useCallback)(function(){if(window){var e,t;$.Z.set("referer_page",ev),null===(e=window.NREUM)||void 0===e||null===(t=e.addPageAction)||void 0===t||t.call(e,"UP3-1623 assign loggedOutHandler authRedirectPath to href",(0,c.Z)((0,o.Z)({},window.location||{}),{asPath:ev,authRedirectPath:ew})),window.location.href=ew}},[ev,ew]),eN=Z({paymentProfiles:e_}),eE=(0,J.useCallback)(function(e){var t,n,a={createTime:null==eo?void 0:eo.createTime,component:"useCreateOrder.js",errorCode:e.code,errorStatus:e.status,errorDetail:e.detail,errorMessage:e.message,errorStack:e.stack||"useCreateOrder",errorTitle:e.title,impersonatorId:ec.impersonatorId,msg:"UP1-2650 Order creation failed",organizationId:null==eo?void 0:eo.organizationId,referrerPath:window.location.pathname,referrerQuery:window.location.search,userId:null==eo?void 0:eo.id,username:null==eo?void 0:eo.username,isLicenseDrawer:R};null===(t=window.NREUM)||void 0===t||null===(n=t.noticeError)||void 0===n||n.call(t,e,a)},[ec,eo,R]),ek=ee({couponCode:eC,displayInlineCancellationFlow:[d.q].includes(ea)}),eI=(0,B.d)(),eD=(0,l.Z)((0,J.useState)({status:"",error:void 0}),2),eO=eD[0],ej=eD[1],eZ=(0,J.useCallback)((0,i.Z)(function(){var e,t,i,r,l;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),N({status:"",error:void 0}),ej({status:"",error:void 0}),eu(!0),er&&u.Tj5.includes(eC))throw Error("free trial offer not available in India");if(!e_)return[3,2];return e=n?{assets:[{asset:n,selectedAssetSize:(0,C.DW)({assetType:(0,I.Tp)(n),assetSize:a})}]}:{},t=[],ea===d.q?t.push({product:{id:V(),type:"products"},cancellationReason:ea,subscriptionIdentifier:en}):(t.push((0,c.Z)((0,o.Z)({},e),{product:eh,productType:g})),null!=ea&&null!=en&&t.push({product:{id:Q(),type:"products"},cancellationReason:ea,subscriptionIdentifier:en})),[4,S({country:ei,currency:em||eg,paymentProfileId:null==eN?void 0:eN.paymentId,orderItems:t,selectedShadowsOption:H,vatNumber:D,couponCode:eC,license:O,debitableIdentifier:ef,showP32290Inr:eb})];case 1:i=s.sent().data,N({status:p.MR,error:void 0}),ej({status:p.MR,error:void 0}),eu(!1),ek({orderId:i.id}),eI({actionName:"convert - order creation success",customAttributes:{productName:eh.name,productType:g,country:ei,currency:em||eg,assetType:(0,I.Tp)(n),assetSize:a,license:O,isLicenseDrawer:R}}),s.label=2;case 2:return[3,4];case 3:return r=s.sent(),N({status:p.cM,error:r}),ej({status:p.cM,error:r}),eu(!1),(null==r?void 0:null===(l=r.detail)||void 0===l?void 0:l.toLowerCase())===m.LQ&&k(!0),eE(r),[3,4];case 4:return[2]}})}),[N,er,eC,e_,n,a,ei,em,eg,null==eN?void 0:eN.paymentId,eh,g,D,O,ef,ek,eI,R,eE,k,H,en,ea,eb]);return{createOrderHandler:el?eZ:eT,isCreateOrderInProgress:ed,product:eh,orderStatus:eO}}}}]);
//# sourceMappingURL=44696-94ca416a69127147.js.map